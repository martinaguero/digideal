grammar org.trimatek.digideal.Contract with org.eclipse.xtext.common.Terminals

generate contract "http://www.trimatek.org/digideal/Contract"

Contract:
	'CONTRATO #' cid=ID paragraph+=Sentence*;

Sentence:
	sentenceType=STRING | Subject | Reference | PayTo | PaymentCondition | SupervisedBy;

Subject:
	'@' name=ID '{' address=STRING ',' email=Email '}';

PublicKey:
	ID;

Email:
	STRING;

Reference:
	'@' type=[Subject];

PayTo:
	'@' payer=[Subject] 'pagará a' ('@' collector=[Subject]) 'la suma de STS' sts=INT;

PaymentCondition:
	'si:' ('@' collector=[Subject]) level=FactsLevel facts=Facts 'el siguiente producto o servicio:' description=STRING ;

FactsLevel:
	options=(AnyFact | AllFacts);

AnyFact:
	value='cumple con CUALQUIERA de los siguientes hechos:';

AllFacts:
	value='entrega en:';

Facts:
	'{' (fact+=STRING ("," fact+=STRING)*) '}';

SupervisedBy:
	'Operación supervisada por el agente ' agent=Subject;

	