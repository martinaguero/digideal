<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<title>JSF Tree Selection Example</title>
	<link rel="stylesheet" href="./css/style.css" />
	<link rel="stylesheet" href="./css/showcase.css" />
</h:head>
<h:body>
	<p:tooltip position="top" />
	<h:form>
		<p:panelGrid style="margin-top:40px">
			<p:row style="height: 110px">
				<p:column style="font-weight: bold;">Quienes</p:column>
				<p:column>
					<p:panelGrid>
						<p:row>
							<div style="margin-left: auto; margin-right: 0;">
								<div class="ui-inputgroup">
									<span class="ui-inputgroup-addon">El presente contrato
										entre </span>
									<p:growl id="msgs" showDetail="true" escape="false" />
								</div>
							</div>
						</p:row>
						<p:row>
							<div
								style="margin-left: auto; margin-right: 0; margin-top: 10px;">
								<div class="ui-inputgroup">
									<span class="ui-inputgroup-addon"> el Sr/a.</span>
									<p:inputText id="namePayer" placeholder="nombre y apellido"
										value="#{contractView.namePayer}"
										style="#{contractView.namePayerStyle}">
										<p:ajax update="msgs,namePayer,preview" event="blur"
											listener="#{contractView.validatePayerName}" />
									</p:inputText>
									<span class="ui-inputgroup-addon"> en adelante </span>
									<p:inputText styleClass="nick" id="nickPayer"
										value="#{contractView.nickPayer}"
										placeholder="apodo del comprador" maxlength="16"
										style="#{contractView.nickPayerStyle}">
										<p:ajax event="blur"
											update="nickPayer,payer,msgs,nickPayer,preview"
											listener="#{contractView.handlePayerNick}" />
									</p:inputText>
									<span class="ui-inputgroup-addon"> {</span>
									<p:inputText
										pt:data-tooltip="#{contractView.addressPayerTooltip}"
										id="addressPayer" placeholder="bitcoin address" maxlength="35"
										value="#{contractView.addressPayer}"
										style="#{contractView.addressPayerStyle}">
										<p:ajax update="msgs,addressPayer,preview" event="blur"
											listener="#{contractView.validatePayerAddress}" />
									</p:inputText>

									<span class="ui-inputgroup-addon"> ,</span>
									<p:inputText id="emailPayer" value="#{contractView.emailPayer}"
										placeholder="email" style="#{contractView.emailPayerStyle}">
										<p:ajax update="msgs,emailPayer,preview" event="blur"
											listener="#{contractView.validatePayerEmail}" />
									</p:inputText>
									<span class="ui-inputgroup-addon"> }</span> <span
										class="ui-inputgroup-addon"> y </span>
								</div>
							</div>
							<div style="margin-left: auto; margin-right: 0;">
								<div class="ui-inputgroup">
									<span class="ui-inputgroup-addon"> el Sr/a. </span>
									<p:inputText id="nameCollector" placeholder="nombre y apellido"
										value="#{contractView.nameCollector}"
										style="#{contractView.nameCollectorStyle}">
										<p:ajax update="msgs,nameCollector,preview" event="blur"
											listener="#{contractView.validateCollectorName}" />
									</p:inputText>
									<span class="ui-inputgroup-addon"> en adelante </span>
									<p:inputText styleClass="nick" id="nickCollector"
										placeholder="apodo del vendedor" maxlength="16"
										value="#{contractView.nickCollector}"
										style="#{contractView.nickCollectorStyle}">
										<p:ajax event="blur"
											update="nickCollector,msgs,collector,collector-cond,preview"
											listener="#{contractView.handleCollectorNick}" />
									</p:inputText>
									<span class="ui-inputgroup-addon"> {</span>
									<p:inputText
										pt:data-tooltip="#{contractView.addressCollectorTooltip}"
										id="addressCollector" placeholder="bitcoin address"
										maxlength="35" value="#{contractView.addressCollector}"
										style="#{contractView.addressCollectorStyle}">
										<p:ajax update="msgs,addressCollector,preview" event="blur"
											listener="#{contractView.validateCollectorAddress}" />
									</p:inputText>
									<span class="ui-inputgroup-addon"> ,</span>
									<p:inputText id="emailCollector"
										value="#{contractView.emailCollector}" placeholder="email"
										style="#{contractView.emailCollectorStyle}">
										<p:ajax update="msgs,emailCollector,preview" event="blur"
											listener="#{contractView.validateCollectorEmail}" />
									</p:inputText>
									<span class="ui-inputgroup-addon"> }</span>
								</div>
							</div>
						</p:row>
					</p:panelGrid>
				</p:column>
			</p:row>
			<p:row style="height: 50px">
				<p:column style="font-weight: bold;">Cuánto</p:column>
				<p:column>
					<div style="margin-left: auto; margin-right: 0;">
						<div class="ui-inputgroup">
							<span class="ui-inputgroup-addon">se establece que </span>
							<p:inputText styleClass="nick" id="payer"
								value="#{contractView.nickPayerValid}" readonly="true" />
							<span class="ui-inputgroup-addon"> pagará a </span>
							<p:inputText styleClass="nick" id="collector"
								value="#{contractView.nickCollectorValid}" readonly="true" />
							<span class="ui-inputgroup-addon"> la suma de </span>
							<p:selectOneMenu id="currencies"
								value="#{contractView.selectedCurrency}" style="width:30px">
								<p:ajax listener="#{contractView.onCurrencyChange}"
									update="btc,preview" />
								<f:selectItems value="#{contractView.currencies}" />
							</p:selectOneMenu>
							<p:inputText id="money" value="#{contractView.quantity}"
								style="#{contractView.quantityStyle}" styleClass="money">
								<p:ajax event="blur" update="btc,money,preview"
									listener="#{contractView.handleQuantity}" />
							</p:inputText>
							<span class="ui-inputgroup-addon"> equivalentes a </span>
							<p:inputText id="btc" value="BTC #{contractView.btc}"
								readonly="true" style="width:125px" />
						</div>
					</div>
				</p:column>
			</p:row>
			<p:row style="height: 80px">
				<p:column style="font-weight: bold;">Condición</p:column>
				<p:column>
					<div style="margin-left: auto; margin-right: 0;">
						<div class="ui-inputgroup">
							<span class="ui-inputgroup-addon">si </span>
							<p:inputTextarea id="collector-cond" rows="3" cols="10"
								value="#{contractView.nickCollector}" readonly="true" />
							<span class="ui-inputgroup-addon"> entrega en </span>
							<p:inputTextarea styleClass="textArea" rows="3" cols="34"
								id="address" value="#{contractView.address}"
								style="#{contractView.addressStyle}"
								placeholder="ejemplo: Av. Cabildo 2204 piso 10 dto C - Buenos Aires - Argentina">
								<p:ajax event="blur" update="address,msgs,preview"
									listener="#{contractView.validateAddress}" />
							</p:inputTextarea>
							<span class="ui-inputgroup-addon"> el siguiente </span>
							<p:inputTextarea styleClass="textArea" rows="3" cols="45"
								id="item" value="#{contractView.item}"
								style="#{contractView.itemStyle}"
								placeholder="descripción del artículo o servicio incluyendo cantidad">
								<p:ajax event="blur" update="item,msgs,preview"
									listener="#{contractView.validateItem}" />
							</p:inputTextarea>
						</div>
					</div>
				</p:column>
			</p:row>
			<p:row style="height: 50px">
				<p:column style="font-weight: bold;">Garante</p:column>
				<p:column>
					<div style="margin-left: auto; margin-right: 0;">
						<div class="ui-inputgroup">
							<span class="ui-inputgroup-addon">operación supervisada
								por el agente </span>
							<p:inputText id="nickagent" value="#{contractView.agentNick}"
								readonly="true" styleClass="nick" />
							<span class="ui-inputgroup-addon"> {</span>
							<p:inputText pt:data-tooltip="#{contractView.agentAddress}"
								value="#{contractView.agentAddress}" readonly="true"
								style="width:210px" />
							<span class="ui-inputgroup-addon"> ,</span>
							<p:inputText value="#{contractView.agentEmail}" readonly="true"
								style="width:210px" />
							<span class="ui-inputgroup-addon"> }</span>
						</div>
					</div>
				</p:column>
			</p:row>
			<p:row styleClass="buttonsbar">
				<p:column style="border-right-style: hidden;"></p:column>
				<p:column>
					<div style="float: right;">
						<h:panelGrid columns="3" style="margin-bottom:10px"
							cellpadding="5">
							<p:outputLabel for="@next" value="#{msg.data_true}" />
							<p:selectBooleanCheckbox id="check"
								value="#{contractView.dataAuthentic}">
								<p:ajax update="preview" />
							</p:selectBooleanCheckbox>
							<p:commandButton value="Previsualizar" id="preview"
								actionListener="#{contractView.previewAction}"
								disabled="#{contractView.previewDisabled}"
								icon="ui-icon-circle-zoomin" onclick="PF('draftDlg').show();"
								update="draft">
							</p:commandButton>
						</h:panelGrid>
					</div>
				</p:column>
			</p:row>
		</p:panelGrid>
		<p:remoteCommand name="cancelDraft" update="draft,check,preview"
			actionListener="#{contractView.cancelDraftAction}" />
		<p:dialog header="#{contractView.draftNumber}" widgetVar="draftDlg"
			showEffect="fade" closable="false" modal="true">
			<div>
				<h:outputText id="draft" value="#{contractView.draft}"
					escape="false" />
				<br />
			</div>
			<div style="float: right;">
				<br />
				<p:commandButton value="#{msg.btn_confirm}" type="button"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
					disabled="#{contractView.confirmDraftDisabled}" />
				<p:commandButton value="#{msg.btn_close}" type="button"
					styleClass="ui-confirmdialog-no"
					onclick="cancelDraft();PF('draftDlg').hide();" icon="ui-icon-close" />
			</div>
		</p:dialog>
	</h:form>
</h:body>
</html>